---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```
# metathis

<!-- badges: start -->
<!-- badges: end -->

[rmarkdown]: https://rmarkdown.rstudio.com
[blogdown]: https://bookdown.org/yihui/blogdown
[Shiny]: https://shiny.rstudio.com
[r4ds]: https://r4ds.had.co.nz/
[xaringan]: https://slides.yihui.name/xaringan
[bookdown]: https://bookdown.org/
[pagedown]: https://github.com/rstudio/pagedown
[htmltools]: https://github.com/rstudio/htmltools

## Why metathis?

The goal of **metathis** is to help you add HTML `<meta>` tags to your [R Markdown][rmarkdown] and [Shiny] apps.

HTML `<meta>` tags provide browsers and social media with metadata about HTML pages.
Using `<meta>` tags will help your users find your articles, Shiny apps, and presentations, and will help you make sure they look great in social media timelines.

**metathis** makes the process of adding these tags to your R Markdown pages and Shiny apps easier by using the [htmltools] package to add `<meta>` tags as a dependency, added directly to the document in an R code chunk rather than requiring you to adjust templates or write additional files.


## Installation

You can install the latest version of metathis from [Github](https://github.com/gadenbuie/metathis) with:

``` r
devtools::install_github("gadenbuie/metathis")
```

## Works In

&#x2705; [R Markdown][rmarkdown] HTML Documents  
&#x2705; [Shiny] Apps  
&#x2705; [xaringan]  
&#x2705; [pagedown]  
&#x274C; [blogdown]  
&#x2753; [bookdown]  

`<meta>` tags can be added to &#x2705; packages with a standard R chunk

````markdown
```{r}`r ''`
meta() %>% 
  meta_description("My awesome presentation")
```
````

For other packages or situations, use `write_meta()` to save the `<meta>` tags to an `.html` file that can be included via `includes: in_header`.

````markdown
```{r}`r ''`
meta() %>% 
  meta_description("A fantastic blog post") %>% 
  write_meta("meta.html")
```
````

## Example

### In R Markdown

This is a basic example that re-creates the `<meta>` tags for the [R for Data Science][r4ds] book. 

```{r example}
library(metathis)

meta() %>%
  meta_description(
    "This book will teach you how to do data science with R..."
  ) %>% 
  meta_name("github-repo" = "hadley/r4ds") %>% 
  meta_viewport() %>% 
  meta_social(
    title = "R for Data Science",
    url = "https://r4ds.had.co.nz",
    image = "https://r4ds.had.co.nz/cover.png",
    image_alt = "The cover of the R4DS book",
    og_type = "book",
    og_author = c("Garrett Grolemund", "Hadley Wickham"),
    twitter_card_type = "summary",
    twitter_creator = "@hadley"
  ) %>% 
  print()
```

### In Shiny Apps

To use `metathis` in Shiny apps, simply call `meta()` and related tags anywhere inside your page UI, for example inside `fluidPage()`.

```r
ui <- fluidPage(
  # Application title
  titlePanel("metathis Example"),
  
  meta() %>%
    meta_social(
      title = "metathis",
      description = "<meta> and social meda cards for you R-web things",
      url = "https://pkg.garrickadenbuie.com/metathis",
      image = "https://garrickadenbuie.com/apple-touch-icon-114x114.png",
      image_alt = "An image for social meda cards",
      twitter_creator = "@grrrck",
      twitter_card_type = "summary",
      twitter_site = "@grrrck"
  )
  # ... your UI ...
)
```

## Thanks

Thanks to [Josh Buchea](https://github.com/joshbuchea) for providing an [excellent and indispensible resource](https://github.com/joshbuchea/HEAD) on `<meta>` tags and other things that go in the HTML `<head>` tags.

Thanks also to [Malcolm Barret](https://github.com/malcolmbarrett). 
Watching over his shoulder as he developed [ymlthis](https://r-lib.github.io/ymlthis) made putting this package together so much easier.

Finally, thanks to the [RStudio team](https://github.com/rstudio) and others who developed [htmltools](https://github.com/rstudio/htmltools) for making HTML in R a breeze.
